@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name='viewport' content='width=device-width, initial-scale=1, viewport-fit=cover'>
    <title>Login | Sistema de gestión de cajas</title>

    <link rel="icon" href="~/Content/images/brand/favicon.ico" type="image/x-icon" />
    <!-- Bootstrap -->
    <link href="~/Content/plugins/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <!-- Estilos del sistema -->
    <link href="~/Content/css/style.css" rel="stylesheet" />
    <link href="~/Content/css/plugins.css" rel="stylesheet" />
    <link href="~/Content/css/animated.css" rel="stylesheet" />
    <link href="~/Content/css/icons.css" rel="stylesheet" />

    <style>
        /* --- Ajustes visuales y responsive --- */
        :root {
            --accent: #2E9A90;
        }

        .auth-wrapper {
            min-height: 100vh;
        }
        /* Columna de imagen: solo en >= lg */
        .auth-illustration {
            background: var(--accent) url('/Content/images/logo_sgp.jpg') center/cover no-repeat;
            position: relative;
        }

            .auth-illustration::after {
                /* leve overlay para mejor contraste si agregas texto encima, opcional */
                content: "";
                position: absolute;
                inset: 0;
                background: rgba(0,0,0,.05);
            }
        /* Contenedor del formulario centrado */
        .auth-panel {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
            min-height: 100vh;
            background: #fff;
        }

        .auth-card {
            width: 100%;
            max-width: 460px; /* límite para desktop */
            border: 0;
            box-shadow: 0 8px 30px rgba(0,0,0,.08);
            border-radius: 16px;
        }

        .brand img {
            max-width: 220px;
            height: auto;
        }

        .form-label {
            font-weight: 600;
            font-size: .9rem;
        }
        /* Inputs cómodos para dedo en móvil */
        .form-control {
            height: calc(2.25rem + 10px);
            padding-top: .6rem;
            padding-bottom: .6rem;
            font-size: .95rem;
        }

        .input-group-text {
            border-right: 0;
        }

        .input-group .form-control {
            border-left: 0;
        }

        .btn-primary.btn-block {
            padding: .8rem 1rem;
            font-weight: 600;
        }

        .env-text {
            font-size: .85rem;
        }

        /* --- Mobile first ajustes --- */
        @@media (max-width: 575.98px) {
            .brand img {
                max-width: 180px;
            }

            .auth-panel {
                padding: 20px;
            }

            .auth-card {
                box-shadow: none;
                border-radius: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid auth-wrapper">
        <div class="row g-0">
            <!-- Ilustración (solo >= lg) -->
            <div class="col-lg-6 d-none d-lg-block auth-illustration"></div>

            <!-- Panel de login (centrado siempre) -->
            <div class="col-12 col-lg-6 auth-panel">
                <div class="card auth-card">
                    <div class="card-body p-4 p-md-5">
                        <div class="brand mb-4 text-center">
                            <img src="~/Content/images/brand/logo-super-food.png" alt="Super Food Holding" />
                        </div>

                        <h3 class="mb-1 text-center">Iniciar sesión</h3>
                        <p class="text-muted text-center mb-4">Ingresa tus credenciales para continuar</p>

                        <form id="formLogin" autocomplete="off">
                            <div class="mb-3">
                                <label for="txtUsuario" class="form-label">Usuario</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fe fe-user"></i></span>
                                    <input class="form-control" id="txtUsuario" placeholder="Usuario" autofocus />
                                </div>
                            </div>

                            <div class="mb-2">
                                <label for="txtClave" class="form-label">Contraseña</label>
                                <div class="input-group" id="Password-toggle">
                                    <span class="input-group-text"><i class="fe fe-lock"></i></span>
                                    <input class="form-control" id="txtClave" type="password" placeholder="Password" />
                                    <button class="btn btn-outline-primary" type="button" id="btnTogglePass" aria-label="Mostrar/ocultar contraseña">
                                        <i class="fe fe-eye-off" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="d-grid mt-4">
                                <button class="btn btn-primary btn-block" id="btnAutenticarse" type="button">
                                    <span class="btn-text">Autenticarse</span>
                                    <span class="spinner-border spinner-border-sm align-middle ms-2 d-none"
                                          id="btnSpinner" role="status" aria-hidden="true"></span>
                                </button>
                            </div>
                        </form>

                        <div class="mt-4 text-end text-primary env-text">
                            Ambiente <b>@SPSA.Autorizadores.Web.Utiles.WebSession.SistemaAmbiente</b> —
                            Versión <span>@SPSA.Autorizadores.Web.Utiles.WebSession.SistemaVersion</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var baseUrl = "@Url.Content("~")";
    </script>

    <!-- JS base -->
    <script src="~/Content/plugins/jquery/jquery.min.js"></script>
    <script src="~/Content/plugins/bootstrap/js/popper.min.js"></script>
    <script src="~/Content/plugins/bootstrap/js/bootstrap.min.js"></script>

    <!-- Notificaciones -->
    <script src="~/Content/plugins/notify/js/jquery.growl.js"></script>
    <script src="~/Content/plugins/notify/js/notifIt.js"></script>
    <script src="~/Content/plugins/sweet-alert/sweetalert.min.js"></script>
    <script src="~/Content/js/utiles.js"></script>

    <!-- Lógica de login -->
    <script src="~/Content/ViewJs/Login.js"></script>

    <script>
        // Toggle mostrar/ocultar contraseña
        (function () {
            var btn = document.getElementById('btnTogglePass');
            var input = document.getElementById('txtClave');
            if (btn && input) {
                btn.addEventListener('click', function () {
                    var isPwd = input.type === 'password';
                    input.type = isPwd ? 'text' : 'password';
                    this.innerHTML = isPwd ? '<i class="fe fe-eye"></i>' : '<i class="fe fe-eye-off"></i>';
                    input.focus();
                });
            }
        })();

        // Inicializar JS de login
        $(function () { if (window.Login && Login.init) Login.init(); });
    </script>
</body>
</html>
